{"version":3,"sources":["../../src/controller/foodtruck.js"],"names":["config","db","api","post","req","res","newFoodTruck","name","body","save","err","send","json","message","get","FoodTruckfind","foodtrucks","findById","params","id","foodTruck","put","delete","remove","_id"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;kBAEc,gBAAoB;AAAA,MAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,EAAS,QAATA,EAAS;;AAClC,MAAIC,MAAM,sBAAV;;AAEE;AACAA,MAAIC,IAAJ,CAAS,MAAT,EAAiB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC7B,QAAIC,eAAe,yBAAnB;AACAA,iBAAaC,IAAb,GAAoBH,IAAII,IAAJ,CAASD,IAA7B;;AAEAD,iBAAaG,IAAb,CAAkB,eAAO;AACvB,UAAGC,GAAH,EAAQ;AACNL,YAAIM,IAAJ,CAASD,GAAT;AACC;AACDL,UAAIO,IAAJ,CAAS,EAACC,SAAS,8BAAV,EAAT;AACH,KALD;AAMD,GAVD;;AAYA;AACAX,MAAIY,GAAJ,CAAQ,GAAR,EAAa,UAACV,GAAD,EAAMC,GAAN,EAAc;AACzBU,kBAAc,EAAd,EAAkB,UAACL,GAAD,EAAMM,UAAN,EAAqB;AACrC,UAAIN,GAAJ,EAAQ;AACNL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAASI,UAAT;AACD,KALD;AAMD,GAPD;;AASF;AACEd,MAAIY,GAAJ,CAAQ,MAAR,EAAgB,UAACV,GAAD,EAAMC,GAAN,EAAc;AAC5B,wBAAUY,QAAV,CAAmBb,IAAIc,MAAJ,CAAWC,EAA9B,EAAkC,UAACT,GAAD,EAAMU,SAAN,EAAoB;AACpD,UAAIV,GAAJ,EAAQ;AACNL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAASQ,SAAT;AACD,KALD;AAMD,GAPD;;AASA;AACElB,MAAImB,GAAJ,CAAQ,MAAR,EAAgB,UAACjB,GAAD,EAAMC,GAAN,EAAc;AAC5B,wBAAUY,QAAV,CAAmBb,IAAIc,MAAJ,CAAWC,EAA9B,EAAkC,UAACT,GAAD,EAAMU,SAAN,EAAoB;AACpD,UAAIV,GAAJ,EAAQ;AACNL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDU,gBAAUb,IAAV,GAAiBH,IAAII,IAAJ,CAASD,IAA1B;AACAa,gBAAUX,IAAV,CAAe,eAAO;AACpB,YAAIC,GAAJ,EAAS;AACPL,cAAIM,IAAJ,CAASD,GAAT;AACD;AACCL,YAAIO,IAAJ,CAAS,EAACC,SAAS,wBAAV,EAAT;AACH,OALD;AAMD,KAXD;AAYD,GAbD;;AAeA;AACCX,MAAIoB,MAAJ,CAAW,MAAX,EAAmB,UAAClB,GAAD,EAAMC,GAAN,EAAc;AAChC,wBAAUkB,MAAV,CAAiB;AACfC,WAAKpB,IAAIc,MAAJ,CAAWC;AADD,KAAjB,EAEG,UAACT,GAAD,EAAMU,SAAN,EAAmB;AACpB,UAAIV,GAAJ,EAAS;AACPL,YAAIM,IAAJ,CAASD,GAAT;AACD;AACDL,UAAIO,IAAJ,CAAS,EAACC,SAAS,gCAAV,EAAT;AACD,KAPD;AAQD,GATA;;AAWH,SAAOX,GAAP;AACD,C","file":"foodtruck.js","sourcesContent":["import mongoose from 'mongoose';\nimport { Router } from 'express';\nimport FoodTruck from '../model/foodtruck';\n\nexport default({ config, db }) => {\nlet api = Router();\n\n  // '/v1/restaurant/add'\n  api.post('/add', (req, res) => {\n    let newFoodTruck = new FoodTruck();\n    newFoodTruck.name = req.body.name;\n\n    newFoodTruck.save(err => {\n      if(err) {\n        res.send(err)\n        }\n        res.json({message: 'FoodTruck saved successfully'});\n    });\n  });\n\n  // '/V1/restaurant'- read\n  api.get('/', (req, res) => {\n    FoodTruckfind({}, (err, foodtrucks) => {\n      if (err){\n        res.send(err)\n      }\n      res.json(foodtrucks);\n    });\n  });\n\n// '/v1/restaurant/:id'- Read 1\n  api.get('/:id', (req, res) => {\n    FoodTruck.findById(req.params.id, (err, foodTruck) => {\n      if (err){\n        res.send(err);\n      }\n      res.json(foodTruck);\n    });\n  });\n\n  // 'v1/restaurant/:id' - Update\n    api.put('/:id', (req, res) => {\n      FoodTruck.findById(req.params.id, (err, foodTruck) => {\n        if (err){\n          res.send(err);\n        }\n        foodTruck.name = req.body.name;\n        foodTruck.save(err => {\n          if (err) {\n            res.send(err);\n          }\n            res.json({message: \"FoodTruck info updated\"});\n        });\n      });\n    });\n\n    // '/v1/restaurant/:id' - Delete\n     api.delete('/:id', (req, res) => {\n      FoodTruck.remove({\n        _id: req.params.id\n      }, (err, foodTruck) =>{\n        if (err) {\n          res.send(err);\n        }\n        res.json({message: \"FoodTruck successfully remoned\"});\n      });\n    });\n\n  return api;\n}\n"]}